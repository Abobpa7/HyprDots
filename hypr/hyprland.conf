#---------------#
#--Hypr_Config--#
#---------------#

#-Autostart-#
exec-once = waybar &
exec-once = swaync &
exec-once = swww-daemon &
exec-once = swww img /home/botnaru/.config/hypr/nix.png &
exec-once = hyprctl setcursor Moga-Purple 42 &

#-Monitor-#
monitor = eDP-1, 1920x1080, 0x0, 1

#-Environments-#
env = XCURSOR_SIZE,42
env = HYPRCURSOR_SIZE,42
env = XCURSOR_THEME, Moga_Purple
env = HYPRCURSOR_THEME, Moga_Purple

#----------------#
#---Look&Feels---#
#----------------#
general {
  gaps_in = 4
  gaps_out = 12
  border_size = 8
  col.active_border = rgba(126,186,228,1) rgba(82,119,195,1) 180deg
  col.inactive_border = rgba(126,186,228,0.25) rgba(82,119,195,0.25) 180deg
  resize_on_border = true
  allow_tearing = false
  layout = dwindle
}

decoration {
  rounding = 4
  rounding_power = 2.0
  active_opacity = 0.99
  inactive_opacity = 0.75
  fullscreen_opacity = 1.0

  shadow {
    enabled = true
    range = 4
    render_power = 3
    color = rgba(126,186,228,1) 
    color_inactive = rgba(82,119,195,0.25)
  }

    blur {
      enabled = true
      size = 8
      passes = 1
      vibrancy = 0.1696
      ignore_opacity = true
    }
}

animations {
  enabled = true

  bezier = easeInExpo, 0.87, 0, 0.13, 1
  bezier = easeInBack, 0.36, 0, 0.66, -0.56
  bezier = easeOutBack, 0.34, 1.56, 0.64, 1
  bezier = easeInOutQuint, 0.83, 0, 0.17, 1
  bezier = linear, 1, 1, 1, 1
  bezier = liner, 0, 0, 1, 1

  animation = windowsIn, 1, 4.5, easeInExpo, popin 75%
  animation = windowsOut, 1, 7.25, easeOutBack, gnomed
  animation = windowsMove, 1, 3.5, easeInOutQuint, slide 50%
  animation = layersIn, 1, 6, linear
  animation = layersOut, 1, 8, linear
  animation = fadeIn, 1, 6, liner
  animation = fadeOut, 1, 8, liner
  animation = fadeSwitch, 1, 12, liner
  animation = fadeShadow, 1, 14, liner
  animation = borderangle, 1, 128, linear, loop
  animation = workspacesIn, 1, 6, easeOutBack, slidefade
  animation = workspacesOut, 1, 3.95, linear, slidefade
  animation = global, 0
}

dwindle {
  pseudotile = true
  preserve_split = true 
}

misc {
  force_default_wallpaper = false
  disable_hyprland_logo = true
}

#----------------#
#-----Input------#
#----------------#
input {
  kb_layout = us,ru
  kb_variant =
  kb_model =
  kb_options = grp:alt_shift_toggle
  kb_rules =
  follow_mouse = 1
  sensitivity = -0.5

  touchpad {
    natural_scroll = true
    disable_while_typing = false
    scroll_factor = 0.5
  }
}

#---Gesture---#
gesture = 3, horizontal, workspace
gesture = 4, swipe, move
gesture = 3, down, mod:ALT, close

#----------------#
#-----Binds------#
#----------------#
$mod = SUPER 

#---General---#
bind = $mod, C, killactive,
bind = $mod, F, togglefloating,
bind = $mod, P, pseudo,
bind = $mod, J, togglesplit,
bind = $mod, V, exec, fullscreen, 0

#---Apps---#
bind = $mod, Q, exec, kitty
bind = $mod, E, exec, nautilus
bind = $mod, I, exec, nwg-look
bind = $mod, D, exec, flatpak run com.discordapp.Discord
bind = $mod, M, exec, flatpak run org.polymc.PolyMC
bind = $mod, Z, exec, flatpak run app.zen_browser.zen
bind = $mod, O, exec, flatpak run com.obsproject.Studio

#---Menu---#
bind = $mod, SPACE, exec, rofi -show drun
bind = $mod, W, exec, waybar
bind = $mod SHIFT, W, exec, pkill waybar
bind = $mod, S, exec, swaync
bind = $mod SHIFT, S, exec, pkill swaync
bind = $mod, N, exec, swaync-client -t -sw
bind = $mod CTRL, S, exec, swaync-client -d -sw
bind = $mod, U, exec, udiskie
bind = $mod SHIFT, U, exec, pkill udiskie
bind = $mod, ESCAPE, exec, wlogout

#---Focus---#
bind = $mod, left, movefocus, l
bind = $mod, right, movefocus, r
bind = $mod, up, movefocus, u
bind = $mod, down, movefocus, d

#---Move---#
bind = $mod SHIFT, left, swapwindow, l
bind = $mod SHIFT, right, swapwindow, r
bind = $mod SHIFT, up, swapwindow, u
bind = $mod SHIFT, down, swapwindow, d

#---Resize---#
bind = $mod CTRL, left, resizeactive, -20 0
bind = $mod CTRL, right, resizeactive, 20 0
bind = $mod CTRL, up, resizeactive, 0 -20
bind = $mod CTRL, down, resizeactive, 0 20

#---Workspaces---#
bind = $mod, 1, workspace, 1
bind = $mod, 2, workspace, 2
bind = $mod, 3, workspace, 3
bind = $mod, 4, workspace, 4
bind = $mod, 5, workspace, 5
bind = $mod, 6, workspace, 6
bind = $mod, 7, workspace, 7
bind = $mod, 8, workspace, 8
bind = $mod, 9, workspace, 9
bind = $mod, 0, workspace, 10

#---Move_to_workspace---#
bind = $mod SHIFT, 1, movetoworkspace, 1
bind = $mod SHIFT, 2, movetoworkspace, 2
bind = $mod SHIFT, 3, movetoworkspace, 3
bind = $mod SHIFT, 4, movetoworkspace, 4
bind = $mod SHIFT, 5, movetoworkspace, 5
bind = $mod SHIFT, 6, movetoworkspace, 6
bind = $mod SHIFT, 7, movetoworkspace, 7
bind = $mod SHIFT, 8, movetoworkspace, 8
bind = $mod SHIFT, 9, movetoworkspace, 9
bind = $mod SHIFT, 0, movetoworkspace, 10

#---Move_to_workspaces-Silent---#
bind = $mod CTRL, 1, movetoworkspacesilent, 1
bind = $mod CTRL, 2, movetoworkspacesilent, 2
bind = $mod CTRL, 3, movetoworkspacesilent, 3
bind = $mod CTRL, 4, movetoworkspacesilent, 4
bind = $mod CTRL, 5, movetoworkspacesilent, 5
bind = $mod CTRL, 6, movetoworkspacesilent, 6
bind = $mod CTRL, 7, movetoworkspacesilent, 7
bind = $mod CTRL, 8, movetoworkspacesilent, 8
bind = $mod CTRL, 9, movetoworkspacesilent, 9
bind = $mod CTRL, 0, movetoworkspacesilent, 10 

#---Mouse---#
bind = $mod, mouse_down, workspace, e+1
bind = $mod, mouse_up, workspace, e-1
bindm = $mod, mouse:272, movewindow
bindm = $mod, mouse:273, resizewindow

# Laptop multimedia keys for volume and LCD brightness
bindel = ,XF86AudioRaiseVolume, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%+
bindel = ,XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindel = ,XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindel = ,XF86AudioMicMute, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
bindel = ,XF86MonBrightnessUp, exec, brightnessctl set 5%+
bindel = ,XF86MonBrightnessDown, exec, brightnessctl set 5%-

#---Specific---#
bind = $mod CTRL SHIFT, A, exec, kitty -e nvim ~/.config/hypr/hyprland.conf
bind = $mod CTRL SHIFT, N, exec, kitty -e sudo -E nvim /etc/nixos/configuration.nix

# Fix some dragging issues with XWayland
windowrule = nofocus,class:^$,title:^$,xwayland:1,floating:1,fullscreen:0,pinned:0
